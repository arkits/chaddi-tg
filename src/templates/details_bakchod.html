{% extends "base.html" %}
{% block title %}Bakchod Details{% endblock %}
{% block head %} {{ super() }} {% endblock %}
{% block content %}
<script defer src="/static/details_bakchod.js"></script>
<div class="container-lg">
  <nav>
    <ul class="breadcrumb">
      <li class="breadcrumb-item">details</li>
      <li class="breadcrumb-item">
        <a href="/bakchods">bakchods</a>
      </li>
      <li class="breadcrumb-item active" aria-current="page">
        {{bakchod.tg_id}}
      </li>
    </ul>
  </nav>

  {% if response_message %}
  <div class="alert {{response_message.alert_type}}" role="alert">
    <h4 class="alert-heading">{{response_message.title}}</h4>
    {{response_message.message}}
  </div>
  {% endif %}

  <div class="page-header">
    <h1>{{bakchod.pretty_name}}</h1>
    <p class="text-muted">@{{bakchod.username}}</p>
  </div>

  <div class="card">
    <div class="card-body">
      <h3 class="card-title">User Information</h3>
      <table class="table">
        <tbody>
          <tr>
            <th class="text-right">TG ID:</th>
            <td class="text-left"><span class="badge badge-info">{{bakchod.tg_id}}</span></td>
          </tr>
          <tr>
            <th class="text-right">Username:</th>
            <td class="text-left">@{{bakchod.username}}</td>
          </tr>
          <tr>
            <th class="text-right">Created:</th>
            <td class="text-left">{{bakchod.created}}</td>
          </tr>
          <tr>
            <th class="text-right">Updated:</th>
            <td class="text-left">{{bakchod.updated}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="card">
    <div class="card-body">
      <h3 class="card-title">Rokda Management</h3>
      <input id="tg-id" type="hidden" name="tg-id" value="{{bakchod.tg_id}}" />
      <div class="form-group">
        <label for="rokda-input">Rokda Amount</label>
        <input id="rokda-input" name="rokda" type="text" class="form-control" placeholder="{{bakchod.rokda}}"
          required="required" value="{{bakchod.rokda}}" />
      </div>
      <button id="update-rokda-button" class="btn btn-primary" type="submit">Update Rokda</button>
    </div>
  </div>

  <div class="card">
    <div class="card-body">
      <h3 class="card-title">Metadata</h3>
      <div class="form-group">
        <label for="metadata-textarea">JSON Metadata</label>
        <textarea class="form-control" id="metadata-textarea" name="metadata" type="text" required="required">{{bakchod.metadata | tojson_pretty}}</textarea>
      </div>
      <button id="update-metadata-button" class="btn btn-primary" type="submit">Update Metadata</button>
    </div>
  </div>

  <div class="card">
    <div class="card-body">
      <h3 class="card-title">Groups ({{groups | length}})</h3>
      <div class="groups-list">
        {% for group in groups %}
        <div class="group-item">
          <a href="/details/group?group_id={{group.group_id}}" class="group-link">
            {{group.name}}
          </a>
        </div>
        {% endfor %}
      </div>
    </div>
  </div>
</div>
{% endblock %}